<template>
  <div>
    <svg v-show="!isRunning" xmlns="http://www.w3.org/2000/svg" version="1.2" viewBox="0 0 160 277" width="30" height="277">
      <path :fill="horse.color" id="&lt;Compound Path&gt;" fill-rule="evenodd" class="s0" d="m17.13 156.8c1.2-1.11 2.49-2.2 3.16-3.69 0.51-1.14 0.61-2.42 0.7-3.67 0.38-4.98-0.24-11.29 1.46-16.02 0.61-1.7 1.69-3.19 2.78-4.63 3.79-5.01 8.25-10.02 14.29-11.77 5.49-1.58 11.36-0.2 17.07-0.47 1.23-0.06 2.49-0.21 3.6-0.76 3.55-1.79 19.79-22.99 17.87-26.09q1.05 1.69 2.09 3.38c1.85-8.55 4.55-16.92 8.07-24.93 0.36 2.96 1.1 5.87 2.2 8.63-1.17-7.75 0.97-15.71 4.58-22.68 3.6-6.96 8.62-13.07 13.6-19.13 3.6-4.39 8.23-6.35 10.25-11.7 2.14-5.63 3.15-11.08 6.76-16.12 0.94-0.72 2.69-1.45 3.76-1.28 0.86 1.7 0.77 3.74 0.55 5.7q-0.46 3.25-1.32 6.04c-0.32 1.4-1.29 3.5-2.63 5.32 3.31-0.1 5.51 0.56 7.31 1.3q1.22-1.21 2.45-2.42l6.04-11.11c0.81-1.03 1.81-1.77 2.96-2.31 0.47 1.34 0.78 2.68 0.85 4.03q6.93-6.39 14.12-12.48-5.89 9.21-12.81 17.67-1 1.22-2.01 2.44c-0.05 0.17-0.09 0.36-0.15 0.52-1.04 2.68-2.22 5.18-3.84 7.09 3.2 3.43 6.01 6.82 8.23 10.13-0.8 2.42-0.67 4.62 0 6.69 2.71 4.93 5.16 10.67 7.46 16.9 1.11 2.54 1.15 6.12 0.87 9.98-0.45 1.07-1.08 1.77-1.97 1.97-0.66 0.15-1.5 6.26-3.35 7.14-2.49 1.18-7.92-0.99-10.51-1.48-0.4-0.07-0.83-0.16-1.13-0.43-0.39-0.35-0.49-0.92-0.61-1.43-1.9-8.33-14.05-12.04-20.56-15.87q3.2 3.08 6.39 6.16c0.39 0.38 0.8 0.77 1.01 1.27 1.3 2.95-2.38 13-2.78 16.58-0.71 6.21-1.22 12.45-1.61 18.69-0.09 1.46-1.35 23.29-0.09 23.23 4.36 7.78 6.62 15.58 6.62 22.53-0.62 4.5-2.59 10.6-4.86 17.07 0.2 6.34 0.57 13.21-0.5 15.54-3.11 5.67-5.24 11-6.19 15.94l-1.32 9.55-0.66 9.98c-0.24 2.35-0.89 3.77-1.75 4.72-0.78 7.92-1.29 15.28-0.44 19.85 1.14 0.92 1.7 2.01 1.97 3.18l0.66 10.42c0.44 3 1.17 5.73 3.1 7.28 2.34 3.08 3.87 6.53 4.03 10.6-3.84 0.55-9.4 0.34-15.25 0l-1.1-8.77c0.2-0.81 0.76-1.52 1.87-2.09-0.13-3.69-1.53-6.81-4.06-9.43-1.22-1.71-0.83-4.92 0-8.56l1.98-1.42-0.11-16.68c-1.83-2.02-3.08-5.46-3.08-11.95l1.98-4.17-1.98-24.46c0.02-2.14-0.55-4-2.41-5.27-3.57-2.11-6.77-1.98-9.65 0-2.4 4.18-3.56 8.35-3.73 12.51v3.73l-1.1 4.93v9.99c2.29 1.97 2.93 5.13 2.3 9.21-0.64 2.86-1.85 4.73-3.4 6.03-1.13 6.33-1.2 11.97 0 16.79 2.35 0.85 4.01 8.77 3.08 9.87l-1.54 4.39c1.45 3.33 2.92 6.49 4.61 7.9 1.48 2.32 2.62 6.65 3.51 10.36l-14.37 0.28c-1.33-0.15-2.12-0.58-2.53-1.21-0.3-2.61-0.42-5.19 0-7.68 1.93-1.45 3.05-3.01 3.3-4.72l-0.44-2.52c-3.28-1.13-4.82-3.95-4.5-8.56l1.53-6.36-0.65-13.49c-0.79-2.62-1.67-5.01-3.18-6.03-0.9-2.92-0.86-6.08 0-9.44l1.86-5.04c0.49-2.37 0.6-4.64 0.22-6.8-2.02-1.22-3.24-2.68-3.29-4.51 0.05-7.03 1.94-21.6-3.72-26.62-1.74-1.55-3.79-3.05-4.41-5.3 1.02 3.76 3.14 7.21 6.04 9.8 0.14 0.12-6.77 2.59-7.71 2.68-3.91 0.38-8.71-0.28-12.56-1.07 3.15 0.7 6.19 1.94 8.94 3.65 5.01 3.12-6.21 20.72-8.3 23.89-0.86 10.91-1.19 20.85 0 27.97 2.15 3.62 2.24 7.03 0 10.2 2.79 3.1 4.78 7.43 6.36 12.4l-0.11 1.31-9.25-0.18c-3.33-0.08-5.13-1.66-6.22-3.95l1.65-3.76 2.45-3.26-0.37-1.46c-1.88 0.15-3.3-1.07-4.16-3.88-0.41-3.32 0.89-5.74 2.85-7.82l-0.81-13.9c-0.42-1.96-1.26-3.93-2.7-5.92-0.23-3.73-0.1-7.46 1.09-11.15l3.08-4.5c0.47-0.38-0.33-22.49-3.29-25.45q-2.01 4.76-6.15 8.12c-1.1 6.28-2.51 11.78-4.31 16.31l-1.1 9.72c0.61 3.38-0.35 6.26-1.75 9-0.73 7.52-1.28 14.63-0.37 18.57q1.48 1.51 2.56 3.66 0.29 2.24 0 4.68l-1.83 2.71 0.44 2.34 2.78 3.73 1.53 6.94c-3.89 1.56-8.66 1.73-13.39 0.69l1.36-7.72 0.48-2.62c-2.02-0.62-2.82-2.3-3.14-4.39 2.23-8.88 2.38-18.15 0.87-27.71-2.45-3.55-2.89-7.48-0.8-11.89 3.81-8.05 2.25-18.01 4.05-26.94-2.29 7.59-5.71 15.16-6.92 22.46-0.95 5.68-4.92 10.3-8.74 14.61q0.67-5.71 1.34-11.42c-1.93 4.91-2.73 10.25-2.33 15.51-0.97-3.93-1.32-8.03-1.01-12.07-1.29 2.81-1.92 5.93-1.84 9.02-1.47-6.65-1.64-13.59-0.47-20.3-1.47 3.05-2.33 6.39-2.53 9.77-0.53-18.21 2.86-37.57 16.78-50.34zm7.05 18.07q-0.11 0.26-0.22 0.52-0.03 0.16-0.07 0.31 0.14-0.41 0.29-0.83z"/>
    </svg>
    <svg v-show="isRunning && currentFrame === 0" xmlns="http://www.w3.org/2000/svg" version="1.2" viewBox="0 0 292 196" width="50" height="196">
      <path :fill="horse.color" id="&lt;Path&gt;" class="s0" d="m120.07 172.95c2.65 3.75 6.05 6.88 9.5 9.88 1.15 1 2.31 2.02 3.19 3.25 1.57 2.19 2.24 5.02 4.23 6.82-2.06 1.13-4.29 1.95-6.6 2.42-0.51 0.11-1.06 0.2-1.55 0.02-1.8-0.63-1.14-3.61-2.54-4.91-1.77-1.63-4.72 0.78-6.97-0.06 0.29-2.39 0.52-5.03-0.88-6.99-1.16-1.63-3.18-2.35-4.66-3.57 4.18-1.28 5.93-2.46 6.28-6.86z"/>
      <path :fill="horse.color" id="&lt;Path&gt;" class="s0" d="m20.39 57.89c-4.43-1.44-9.67-2.26-13.17-5.54 4.57 1.98 9.93 2.02 14.53 0.11-4.96 0.21-9.96-0.79-14.45-2.89 5.84 2.21 13.02 0.2 16.85-4.74-3.42 3.37-8.57 4.86-13.25 3.85-4.68-1.02-8.75-4.51-10.47-8.98 1.22 3.17 9.79 3.44 12.36 3.1 4.51-0.59 8.76-3.28 12.49-5.72q-2.41-0.24-4.82-0.47c9.59-4.86 22.24-2.74 29.72 4.98-0.54-3.35-1.73-6.59-3.48-9.49 3.57 2.22 6.48 5.5 8.26 9.32 3.15 6.77 5.19 13.16 14.04 13.85 3.53 0.28 7.08-0.71 10.59-0.27 1.87 0.23 3.66 0.86 5.45 1.46 9.46-9.67 21.61-15.24 36.03-11 7.97 2.35 16.08 5.49 24.33 4.44 10.36-1.32 18.97-9.05 29.27-10.79 3.37-0.57 6.79-0.44 10.16-0.85 1.45-0.18 6.78-2.82 7.64-2.57q-2.58-0.73-5.16-1.45 4.55-1.19 9.11-2.39-4.96-0.41-9.92-0.82c2.18-1.07 4.25-2.37 6.51-3.24 2.26-0.88 4.81-1.3 7.11-0.52q-2.65-1.06-5.29-2.11c2.48 0.25 4.99 0.19 7.46-0.18q-2.99-0.7-5.98-1.39c2.05-1.19 4.14-2.39 6.42-3.03 2.29-0.65 4.83-0.7 6.95 0.36-0.88-1.23-2.02-2.24-3.23-3.12 3.71-1.01 13.27-3.57 16.48-0.67q-1.63-1.48-3.26-2.95 2.88-0.03 5.77-0.06l-3.33-2.59c2.62-1.64 5.27-3.31 8.23-4.2 2.96-0.9 6.31-0.95 9.01 0.56q-1.83-1.88-3.67-3.76c2.97-0.11 5.96 0.73 8.44 2.37q-1.79-1.9-3.57-3.79c6.2-1.24 12.31-1.88 17.74 1.85 1.48-1.22 2.56-3.1 4.29-3.99 1.14-0.59 7.39-0.02 7.34 0.03q-1.69 2.01-3.38 4.02c-0.45 0.53-0.91 1.07-1.15 1.72-0.65 1.77-0.79 4.84-0.37 7.3q13.68-2.91 27.43-5.5-12.22 5.28-24.31 10.85c1.2 1.17 2.41 2.34 2.83 4.06 0.29 1.17 0.12 2.39 0.14 3.6 0.09 4.37 2.77 8.78 4.28 12.82q1.38 3.72 2.77 7.43c1.53 4.11 5.59 7.91 1.77 11.79-3.64 3.72-7.04 3.87-11.94 3.46-0.43-0.03-0.91-0.09-1.2-0.41-0.33-0.38-0.28-0.94-0.24-1.44 0.54-7.01-6.62-12.26-12.63-14.25-2.6-0.86-5.6-0.99-7.61-2.86-0.7-0.65-1.22-1.47-1.73-2.28q-2.05-3.24-4.11-6.49c1.36 2.14 1.77 7.47 2.45 10.04-6.88 2.29-10.36 8.44-13.57 14.49-4.07 7.67-7.23 15.82-9.71 24.14-1.29 4.29-1.36 8.6-0.92 12.89l24.07 24.19c1.65 1.7 2.79 6.51 1.65 8.58-7.37 10.04-14.65 20.05-17.06 25.99 0.05 1.73-0.72 2.86-2.76 3.14l-1.51 12.72c-2.19 4.34-6.48 7.72-10.97 10.97l-3.53-18.02 6.98-1.04 0.82-12.48c7.32-5 13.48-13.31 18.83-23.94-4.34-2.54-8.77-4.94-13.3-7.12-2.92-1.4-7.81-2.97-9.69-5.82-0.44-0.67-0.67-1.45-0.89-2.23q-0.85-2.99-1.7-5.98c-0.31 11.07 1.24 21.65 4.9 32.12 1.67 4.81-0.13 8.81-5.33 10.53-10.26 2.22-19.73 5.08-27.15 9.47-3.26 0.74-6.14 1.06-7.87 0.13l-10.62 4.16c-4.54 0.77-8.39-1.43-15.96-4.16l12.65-10.09c1.11-0.89 2.74-0.47 3.31 0.81l1.38 3.14 9.15-1.71c1.15-1.43 4.26-1.89 8.9-1.6 0 0 21.25-9.52 21.25-9.52-2.35-3.97-5.04-7.66-7.24-11.75-1.9-3.54-3.24-7.7-5.44-11.05-2.7-4.09-8.11-6.43-9.21-11.21 0.45 3.08 1.36 6.09 2.69 8.91-0.42-0.88-18.95 2.35-21.62 2.43-8.13 0.26-16.76-2.25-24.23-5.27-6.94-2.81-16.56-6.45-24-4.08 3.39 0.6 6.71 1.62 9.86 3.02-4.04-1.8-12.59 18.95-13.69 21.83-2.23 5.8-1.37 13.3-1.68 19.55l0.58 1.23c-1.79-1.43-3.72-2.69-5.7-3.89-4.13-2.5-10.29-5.1-6.36-10.33 2.69-3.58 6.27-6.81 9.05-10.32-2.29 2.89-5.19 5.58-8.55 7.13-2.68 1.24-6.25 2.15-5.85 6.13 0.13 1.21 0.81 2.28 1.57 3.23 2.29 2.88 5.94 6.03 9.35 7.51 2.87 1.26 6.56 1.03 8.3 4.16 0.88 1.58 0.79 3.5 1.15 5.27 0.89 4.34 4.6 8.2 3.78 12.56-1.22 6.52-11.38 8.22-12.54 14.75-3-2.87-5.26-6.5-6.51-10.46 1.52-0.89 3.17-1.53 4.89-1.91q-0.8-2.11-1.61-4.21 2.57-0.66 5.13-1.31c0.95-0.24-2.78-6.92-3.21-7.54-1.78-2.55-4.28-4.55-6.98-6.03-3.33-1.82-6.9-2.62-10.4-3.94-1.35-0.5-7.59-2.21-8.1-3.31-1.63-3.53-2.94-7.05-1.92-10.73 0.7-2.56 4.52-5.72 6.06-7.94 2.1-3.03 4.18-6.36 4.99-10.01 1.89-8.59-2.49-14.48-7.68-20.74-5.56-6.73-9.4-15.85-7.06-24.17q0.15-0.54 0.34-1.08c0.6-1.71 1.45-3.3 2.4-4.85-8.44 0.1-17.04-2.38-23.97-6.64-6.07-3.72-14.57-2.91-19.83 1.9 1.39-4.06 5.66-6.94 9.94-6.72-5.05-0.58-10.32 2.09-12.84 6.51 1.66-5.75 7.16-10.17 13.13-10.56-0.53-1.8-2.71-2.68-4.57-2.41-1.86 0.27-3.48 1.37-5.06 2.38-4.3 2.73-8.99 5.04-14.03 5.79-5.05 0.75-10.51-0.22-14.45-3.45 5.59 1.55 11.48 1.99 17.24 1.29z"/>
    </svg>
    <svg v-show="isRunning && currentFrame === 1" xmlns="http://www.w3.org/2000/svg" version="1.2" viewBox="0 0 293 147" width="50" height="147">
      <path :fill="horse.color" id="&lt;Path&gt;" class="s0" d="m6.12 42.37c2.8 1.83 5.66 3.69 8.89 4.53 5.57 1.46 11.5-0.33 16.47-3.13 4.96-2.8 9.29-6.57 14.13-9.57 5.81-3.59 12.35-6.04 19.14-7.15q0.06-0.01 0.13-0.02c4.2-0.68 8.75-0.77 12.45 1.35 1.35 0.77 2.55 1.83 4.02 2.36 3.93 1.45 8.75-2.54 12.4-3.77 6.93-2.34 14.53-2.74 21.74-1.24 5.96 1.23 11.06 4.32 16.77 6.33 6.58 1.39 13.3 2.37 20.02 2.49 1.91 0.04 14.33 0.83 11.98-2.93-0.74-1.2-2.3-1.59-3.7-1.87 7.6-3.68 15.65-6.49 23.92-8.34-1.08-2.15-3.91-3.26-6.16-2.42 4.39-3.4 10.07-5.15 15.68-4.81-1.42-2.13-4.05-3.42-6.6-3.24 5.02-4.36 12.48-5.83 18.89-3.71-0.35-1.36-1.22-2.58-2.39-3.39 1.64 0.17 3.23 0.79 4.56 1.77-0.71-1.33-1.93-2.39-3.36-2.91q7.9 0.11 15.8 0.22c3.33 0.04 6.82 0.13 9.75 1.73-1.24-1.94-3.05-3.53-5.15-4.52 5.03-0.7 10.41 1.33 13.72 5.2q-0.7-1.38-1.41-2.76c2.4 1.44 4.58 3.26 6.41 5.37q-1.57-2.17-3.14-4.33c8.27 1.75 16.02 5.93 22.02 11.86 2.88 2.86 3.5 5.45 2.45 9.13 2.32-0.95 4.66-1.76 7.13-2.22 1.8-0.34 3.74-0.5 5.39 0.31q-1.34 1.77-2.85 3.4 8.73-1.32 17.54-1.96c-6.08 4.02-13.45 5.6-20.63 7.11q-0.72 0.15-1.45 0.3 0.04 0.32 0.15 0.63c4.04 11.75 7.24 22.28 8.53 26.67q0-0.01 0-0.01c-0.83-2.9 3.03 5.37 3.14 8.36 0.06 1.6-0.35 3.17-0.75 4.72q-0.77 2.98-1.54 5.97c-0.19 0.71-0.44 1.52-1.12 1.83-1.35 0.63-2.98-1.22-4.32-0.57-0.47 0.24-0.76 0.74-1.25 0.95-0.45 0.19-0.97 0.1-1.45-0.06-2.59-0.83-4.43-3.16-5.58-5.6-2.87-6.12-3.96-14.11-10.13-18.05-1.32-0.85-2.8-1.42-4.21-2.1-4.18-2.03-7.86-5.07-10.61-8.79-3.3-4.45-6.45-3.77-11.31-2.1-4.03 2.11-7.62 4.17-10.07 6.09-0.46 2.58-0.45 4.87 0.52 6.54l19.45-3.47c1.34-0.04 3.13 0.48 5.01 1.11 1.47 0.63 2.76 1.67 3.98 2.9l2.88 5.04c5.2 5.43 9.79 10.49 12.7 14.55 1.29 1.42 2.24 2.95 2.76 4.61l-0.43 4.54c1.46 1.52 2.31 3.76 2.94 6.27 0.46 2.78 0.06 5.8-1.04 9-2.58 0.88-5.33-0.42-8.2-3.21-1.37-2.22-2.33-4.35-2.47-6.29l3.88-4.16c-0.5-2.3-2.15-3.71-4.5-4.56 1.04-0.51-3.7-11.13-11.18-15.71-2.44-1.48-4.97-2.5-7.63-2.96q-4.94 0.9-9.36 3.48c-4.55 2.68-8.88 3.15-13.65 4.9 2.23-2.57 3.89-5.56 4.69-8.86-1.65 6.74-13.23 9.47-8.22 15.49 2.05 2.48 7.29 3.93 9.96 6.1 2.68 2.18 5.02 4.7 7 7.52 1.98 2.94 2.91 5.95 2.61 9.05-1.79 4.44-7.31 13.13-12.65 21.62-2.18 2.11-5.1 3.54-8.46 4.55-1.82 1.4-3.21 2.88-3.41 4.56-2.34 2.83-5.46 3.93-8.74 4.66-2.75-3.64-0.73-8.7 2.92-14.24 2.94 0.34 5.95 0.91 7.06 0.04 0.49-2.05 1.12-3.92 2.45-4.96 1.37-1.11 2.77-2.01 4.25-2.23 2.4-4.22 4.63-8.32 4.95-11.09 0-3.01-0.09-5.94-1.25-7.8-2.44-1.8-5.19-3.03-8.39-3.49l-7.83-1.47c-5.05-2.42-9.23-4.94-12.45-7.59l-9.47 1.17c-12.6 3.07-25.8 2.7-38.54 0.22-6.71-1.31-13.34-4.3-20.05-5.17-2.98-0.38-4.08 0.57-3.4-2.35 0.4-1.69 2.1-3.61 2.82-5.25 0.59-1.32 0.86-3.13 1.62-4.32-4.42 6.96-10.33 11.67-18.01 14.6-7.21 2.75-14.81 4.28-21.33 8.55l-26.11 8.62c-5.26 10.21-15.22 10.04-16.87 15.14-2.19 5.21-4.68 9.44-7.76 11.71l-6.91 5.7c-1.11 2.93-2.87 5.61-5.01 8.13l-9.43 5.7c-1.58-0.73-2.8-1.62-3.32-2.83-1.15-2.46-1.5-5.08-1.33-7.81l2.52-5.64c3.31-0.77 5.94-1.81 7-3.46 2.56 1 4.92 1.66 6.11 0.31 1.02-2.78 2.69-5.75 4.88-8.86 1.79 0.6 2.66 0.27 2.86-0.75l2.53-3.61q-2.82 0.5-5.37-0.82l-2.54 1.57c-0.64 3.19-3.88 4.99-7.71 6.47-1.27 0.42-2.35 0.06-3.31-0.8l-0.73-10.69c2.22-0.52 4.15-1.42 5.65-2.89l4.01 0.27c2.87-3.84 7.36-7.04 12.89-9.84 1.91-1.53 3.47-3.24 4.6-5.16 1.66-4.25 3.99-8.17 7.07-11.71 6.98 0.41 13.14-0.67 18.46-3.3 2.52-2.14 4.01-4.68 4.35-7.69l1.21-12.98c-0.64-2.9-0.82-5.65 0.35-7.96 2.12-4.08 5.62-7.37 10.04-10.16-5.66-2.53-12.2-0.69-16.9 2.88-2.4 1.83-4.43 4.06-6.29 6.44 1.38-2.31 2.52-4.75 3.34-7.31-6.01 7.27-12.39 14.81-21.2 18.37 3.9-2.49 7.39-5.59 10.31-9.15q-7.01 4.01-14.02 8.01 7.25-5.39 14.51-10.77c-4.65 2.15-8.45 5.78-13.04 8.07-7.51 3.75-16.98 3.48-24.37-0.69 3.85 0.49 7.85-0.44 11.03-2.58-5.97 0.6-12.13-0.53-17.53-3.21-3.92-1.95-7.78-5.35-7.8-9.66q3 1.97 6 3.94z"/>
    </svg>
  </div>
</template>

<script setup lang="ts">
import type { Horse } from '@/types';
import { defineComponent, onBeforeUnmount, ref, watch } from 'vue';

defineComponent({
  name: 'RaceHorse',
});

interface Props {
  horse: Horse
  isRunning?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  isRunning: false
});

const currentFrame = ref(0);
const animationSpeed = 200; // Speed of the animation in milliseconds
let animationInterval: number | undefined;
const startAnimation = () => {
  if (animationInterval) return; // Prevent multiple intervals
  animationInterval = window.setInterval(() => {
    currentFrame.value = (currentFrame.value + 1) % 2; // Toggle between 0 and 1
  }, animationSpeed);
};
const stopAnimation = () => {
  if (animationInterval) {
    clearInterval(animationInterval);
    animationInterval = undefined;
    currentFrame.value = 0; // Reset to the first frame
  }
};
watch(() => props.isRunning, (newVal) => {
  if (newVal) {
    startAnimation();
  } else {
    stopAnimation();
  }
}, { immediate: true });
onBeforeUnmount(() => {
  stopAnimation();
});
</script>

<style scoped>

</style>
